flowchart TD
    A["ğŸ« Ticket Input"] --> B["ğŸ¤– Local Classification"]
    B --> C["ğŸ“Š Calculate Average Confidence<br/>(Category + Priority) / 2"]
    
    C --> D{Confidence â‰¥ 70%?}
    
    D -->|Yes| E["âœ… Use Local Result<br/>Fast & Reliable"]
    D -->|No| F{OpenAI Available?}
    
    F -->|Yes| G["ğŸ§  OpenAI Classification<br/>More Accurate"]
    F -->|No| H["âš ï¸ Use Local Fallback<br/>Better than Nothing"]
    
    G --> I["ğŸ¯ Return Enhanced Result"]
    E --> J["âš¡ Return Fast Result"]
    H --> K["ğŸ”„ Return Basic Result"]
    
    style A fill:#e1f5fe
    style I fill:#e8f5e8
    style J fill:#fff3e0
    style K fill:#ffebee
    style C fill:#f3e5f5